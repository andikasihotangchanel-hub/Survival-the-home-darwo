<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bertahan Hidup: Rumah Hantu Darmo</title>
<style>
  body {
    margin: 0;
    font-family: 'Arial', sans-serif;
    background-color: #000;
    color: #eee;
    overflow: hidden;
  }
  #game-container {
    position: relative;
    width: 100vw;
    height: 100vh;
    background-image: url('https://i.imgur.com/3qVZ0A3.jpg'); /* Ganti dengan interior rumah Darmo */
    background-size: cover;
    background-position: center;
  }
  #player {
    position: absolute;
    width: 40px;
    height: 40px;
    background-color: #00f;
    bottom: 50px;
    left: 50px;
    border-radius: 5px;
  }
  #message {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.7);
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 18px;
    display: none;
  }
  .hantu {
    position: absolute;
    width: 40px;
    height: 40px;
    background-color: red;
    border-radius: 50%;
    display: none;
  }
</style>
</head>
<body>

<div id="game-container">
  <div id="player"></div>
  <div id="message"></div>
  <div class="hantu" id="hantu1" style="top: 100px; left: 300px;"></div>
  <div class="hantu" id="hantu2" style="top: 200px; left: 500px;"></div>
</div>

<audio id="scream" src="https://www.soundjay.com/human/sounds/scream-01.mp3"></audio>
<audio id="footstep" src="https://www.soundjay.com/human/sounds/footsteps-1.mp3"></audio>

<script>
const player = document.getElementById('player');
const message = document.getElementById('message');
const gameContainer = document.getElementById('game-container');
const hantu1 = document.getElementById('hantu1');
const hantu2 = document.getElementById('hantu2');
const scream = document.getElementById('scream');
const footstep = document.getElementById('footstep');

let playerPos = { x: 50, y: 50 };
let gameOver = false;

// Kontrol pemain WASD atau panah
document.addEventListener('keydown', (e) => {
  if(gameOver) return;
  const step = 20;
  if(e.key === 'ArrowUp' || e.key.toLowerCase() === 'w') playerPos.y -= step;
  if(e.key === 'ArrowDown' || e.key.toLowerCase() === 's') playerPos.y += step;
  if(e.key === 'ArrowLeft' || e.key.toLowerCase() === 'a') playerPos.x -= step;
  if(e.key === 'ArrowRight' || e.key.toLowerCase() === 'd') playerPos.x += step;

  // Batasi agar tidak keluar rumah
  playerPos.x = Math.max(0, Math.min(gameContainer.clientWidth - 40, playerPos.x));
  playerPos.y = Math.max(0, Math.min(gameContainer.clientHeight - 40, playerPos.y));

  player.style.left = playerPos.x + 'px';
  player.style.top = playerPos.y + 'px';

  // Putar suara langkah
  footstep.currentTime = 0;
  footstep.play();

  checkHantu();
});

// Fungsi hantu muncul acak
function hantuMuncul(hantu) {
  hantu.style.display = 'block';
  scream.play();
  message.textContent = "Hantu muncul! Lari!";
  message.style.display = 'block';
  setTimeout(() => {
    message.style.display = 'none';
    hantu.style.display = 'none';
  }, 3000);
}

// Cek jika bertabrakan dengan hantu
function checkHantu() {
  const hantus = [hantu1, hantu2];
  hantus.forEach(h => {
    const hx = h.offsetLeft;
    const hy = h.offsetTop;
    if(Math.abs(playerPos.x - hx) < 40 && Math.abs(playerPos.y - hy) < 40) {
      gameOver = true;
      message.textContent = "Kamu tertangkap hantu! Game Over!";
      message.style.display = 'block';
      scream.play();
    }
  });
}

// Hantu muncul acak setiap 5-10 detik
setInterval(() => {
  if(gameOver) return;
  const hantuArray = [hantu1, hantu2];
  const randomHantu = hantuArray[Math.floor(Math.random() * hantuArray.length)];
  hantuMuncul(randomHantu);
}, Math.random() * 5000 + 5000);

</script>
</body>
</html>
