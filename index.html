<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bertahan Hidup: Rumah Hantu Darmo</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    overflow: hidden;
    font-family: 'Arial', sans-serif;
    background-color: #000;
  }
  #game-container {
    position: relative;
    width: 100vw;
    height: 100vh;
    background-image: url('https://i.imgur.com/3qVZ0A3.jpg'); /* Ganti dengan interior rumah Darmo */
    background-size: cover;
    background-position: center;
  }
  #message {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.7);
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 18px;
    color: #fff;
    display: none;
  }
  .hantu {
    position: absolute;
    width: 60px;
    height: 60px;
    background: rgba(255,0,0,0.5);
    border-radius: 50%;
    pointer-events: none;
  }
</style>
</head>
<body>

<div id="game-container">
  <div id="message"></div>
  <div class="hantu" id="hantu1" style="top: 100px; left: 200px;"></div>
  <div class="hantu" id="hantu2" style="top: 300px; left: 500px;"></div>
</div>

<audio id="scream" src="https://www.soundjay.com/human/sounds/scream-01.mp3"></audio>
<audio id="footstep" src="https://www.soundjay.com/human/sounds/footsteps-1.mp3" loop></audio>

<script>
const gameContainer = document.getElementById('game-container');
const message = document.getElementById('message');
const hantus = [
  { el: document.getElementById('hantu1'), dx: 1, dy: 0.5 },
  { el: document.getElementById('hantu2'), dx: -0.5, dy: 1 }
];

// Player invisible, tapi bisa “jalan” dengan tombol panah
let playerPos = { x: 0, y: 0 };

document.addEventListener('keydown', (e) => {
  const step = 20;
  if(e.key === 'ArrowUp' || e.key.toLowerCase() === 'w') playerPos.y -= step;
  if(e.key === 'ArrowDown' || e.key.toLowerCase() === 's') playerPos.y += step;
  if(e.key === 'ArrowLeft' || e.key.toLowerCase() === 'a') playerPos.x -= step;
  if(e.key === 'ArrowRight' || e.key.toLowerCase() === 'd') playerPos.x += step;

  // Batasi agar tidak keluar layar
  playerPos.x = Math.max(0, Math.min(gameContainer.clientWidth, playerPos.x));
  playerPos.y = Math.max(0, Math.min(gameContainer.clientHeight, playerPos.y));

  // Mainkan suara langkah
  const footstep = document.getElementById('footstep');
  footstep.currentTime = 0;
  footstep.play();
});

// Fungsi hantu bergerak sendiri
function moveHantu() {
  hantus.forEach(h => {
    const rect = h.el.getBoundingClientRect();
    let newX = rect.left + h.dx;
    let newY = rect.top + h.dy;

    // Pantulkan ke dinding rumah
    if(newX < 0 || newX > gameContainer.clientWidth - rect.width) h.dx *= -1;
    if(newY < 0 || newY > gameContainer.clientHeight - rect.height) h.dy *= -1;

    h.el.style.left = (rect.left + h.dx) + 'px';
    h.el.style.top = (rect.top + h.dy) + 'px';
  });
  requestAnimationFrame(moveHantu);
}

// Tampilkan pesan horor acak
function randomMessage() {
  const messages = [
    "Terdengar langkah di lantai atas...",
    "Ada bayangan melintas di koridor...",
    "Pintu berdecit dengan sendirinya...",
    "Bisikan halus terdengar di telinga..."
  ];
  message.textContent = messages[Math.floor(Math.random()*messages.length)];
  message.style.display = 'block';
  setTimeout(() => message.style.display = 'none', 4000);
}

setInterval(randomMessage, 7000);

// Start
moveHantu();
</script>

</body>
</html>
